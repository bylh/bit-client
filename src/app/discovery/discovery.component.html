<div [appPage]="{ sub: false }" class="bylh-discovery">
  <div class="bylh-content">
      <mat-progress-bar
      [hidden]="isLoaded"
      mode="indeterminate"
      value="40"
      color="accent"
    ></mat-progress-bar>
    <nz-tabset
      [nzTabPosition]="'top'"
      [(nzSelectedIndex)]="selectedIndex"
      (nzSelectChange)="log([$event])"
    >
      <nz-tab nzTitle="推荐" (nzClick)="getSeg()">
      </nz-tab>
      <nz-tab
        *ngFor="let item of newsTypes"
        [nzTitle]="item.title"
        (nzSelect)="getNews(item.id)"
      >
      </nz-tab>
    </nz-tabset>
    <div class="list-container">
        <nz-list *ngIf="selectedIndex !== 0" class="other">
            <nz-list-item *ngFor="let item of news">
              <a matLine [href]="item.url" target="_blank">{{ item.title }}</a>
            </nz-list-item>
          </nz-list>
          <cdk-virtual-scroll-viewport *ngIf="selectedIndex === 0" itemSize="72" class="seg-viewport">
              <mat-list>
                <ng-container *cdkVirtualFor="let seg of segs">
                  <mat-list-item>
                    <img
                      matListAvatar
                      [src]="seg.imgUrl | safe: resourceUrl"
                      alt="..."
                    />
                    <a padding-bottom [href]="seg.href" target="_blank" matLine>{{
                      seg.title
                    }}</a>
                    <p matLine>
                      {{ seg.description }}
                    </p>
                  </mat-list-item>
                  <mat-divider></mat-divider>
                </ng-container>
              </mat-list>
            </cdk-virtual-scroll-viewport>
    </div>
  </div>
  <!-- <div class="pure-g items-container">
      <div *ngFor="let item of items" [class.selected]="item?.id === selectedId" class="pure-u-1-1 pure-u-md-1-2 pure-u-lg-1-3">
        <a [routerLink]="[item.id]" [queryParams]="{id: item.id}" routerLinkActive="active">
          <div>{{ item.id }}</div>
          <img [src]="item.src" />
        </a>
      </div>
    </div> -->
  <!-- <router-outlet></router-outlet> -->
</div>
